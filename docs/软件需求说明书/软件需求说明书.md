# 软件需求说明书

# 引言

## 编写目的

说明编写这份软件需求说明书的目的，指出预期的读者。

## 背景

说明：

1. 待开发的软件系统的名称；
2. 本项目的任务提出者、开发者、用户及实现该软件的计算中心或计算机网络；
3. 该软件系统同其他系统或其他机构的基本的相互来往关系。

## 定义

列出本文件中用到的专门术语的定义和外文首字母组词的原词组。

## 参考资料

列出用得着的参考资料，如：

1. 本项目的经核准的计划任务书或合同、上级机关的批文；
2. 属于本项目的其他已发表的文件；
3. 本文件中各处引用的文件、资料、包括所要用到的软件开发标准。列出这些文件资料的标题、文件编号、发表日期和出版单位，说明能够得到这些文件资料的来源。

# 任务概述

## 目标

为了给学生提供便利的图书馆占座服务、提高图书馆找寻座位的效率，给学校提供高效率的管理方法我们准备开发此软件。我们的应用目标是给学生提供便利的图书馆占座服务、提高图书馆找寻座位的效率，给学校提供高效率的管理方法。此软件适用于所有在校师生。是一项独立的软件，而且全部内容自含。

## 用户的特点

本软件最终用户为在校师生，受教育程度高，可以很快熟练掌握本软件的操作方法。操作、维护人员为在校学生，教育水平较差，技术能力薄弱。本软件的预期使用频度为1到5次每周 。

 ## 2.3 假定和约束

## 假定和约束

本软件开发工作无经费，开发期限为期末考试之前。



# 需求规定

## 对功能的规定

用列表的方式（例如IPO表即输入、处理、输出表的形式），逐项定量和定性地叙述对软件所提出的功能要求，说明输入什么量、经怎样的处理、得到什么输出，说明软件应支持的终端数和应支持的并行操作的用户数。

### 服务端

| 输入                          | 处理                                                         | 输出                         |
| ----------------------------- | ------------------------------------------------------------ | ---------------------------- |
| RFID打卡系统-打卡情况报告     | 将座位情况写到缓存，供其他模块使用，同时记录刷新时间，令上个周期的缓存失效 | 操作状态、日志               |
| RFID打卡系统-日志             | 输出到日志，或者根据信息警告级别选择是否发送通知给管理员     | 操作状态、日志               |
| 客户端-查询有无座位           | 查询座位情况，查找有无空座位，并将结果写入缓存               | 有无座位，在哪个位置，有多少 |
| 客户端-查询座位详细信息       | 查询座位情况，序列化为json，写入缓存                         | 返回座位详细信息             |
| 管理端-更改刷新间隔           | 鉴权，向RFID系统发送更改请求，记录修改结果                   | 操作状态、日志               |
| 定时任务-检测RFID系统是否上线 | 检测上次缓存刷新到现在的时间，若超时则告警                   | 告警信息、日志               |

## 对性能的规定

### 精度

| 项目     | 精度要求                            |
| -------- | ----------------------------------- |
| 时间信息 | 精确到秒                            |
| 传输     | https传输，要求无损，并在出错时重试 |

### 时间特性要求

说明对于该软件的时间特性要求，如对：

1. 响应时间；
2. 更新处理时间；
3. 数据的转换和传送时间；
4. 解题时间；等的要求。

| 项目               | 要求                       |
| ------------------ | -------------------------- |
| 客户端请求响应时间 | 30ms以内（不包含公网延迟） |
| 数据更新处理时间   | 40ms以内                   |
| 内部传输超时       | 默认10s，可更改            |
| 服务端吞吐量       | 暂定1000 QPS               |

### 灵活性

说明对该软件的灵活性的要求，即当需求发生某些变化时，该软件对这些变化的适应能力，如：

1. 操作方式上的变化；
2. 运行环境的变化；
3. 同其他软件的接口的变化；
4. 精度和有效时限的变化；
5. 计划的变化或改进。

| 潜在的变化       | 应对                                             |
| ---------------- | ------------------------------------------------ |
| 吞吐量           | 扩容                                             |
| 刷新周期         | 可由管理员在管理页面更改                         |
| 网关接入方式改变 | 提供有线RJ45接入和wifi接入两种模式，亦可互为备份 |

## 输入输出要求

输入：图书馆座位总量，损坏座位数量，已被预约座位数量，座位有人的数量

- 图书馆座位总量：指图书馆座位最大容量
- 损坏座位数量：由于各种原因造成的座位坏损而无法使用的座位数量
- 已被预约座位数量：已被预约的座位数量
- 座位有人的数量：座位已经被预约并且座位目前有人

输出：图书馆座位总量，图书馆座位余量，损坏座位数量，已预约座位数量，可预约座位数量

- 输出可通过控制不同形式座位的颜色来显示座位状态

## 数据管理能力要求

需要管理整个图书馆座位状态信息，对座位状态的改变进行实时管理。可以更改座位状态信息，增加删除座位信息等。

## 故障处理要求

- 软件运行故障：在使用过程中出现手机卡死重启等状况，应在在登录座位预约界面后回到历史状态
- 软件使用故障：应及时给用户发送警告并管理人员发送消息通知以修复

## 其他专门要求

暂无

# 运行环境规定

## 设备

暂且支持移动设备端且

1. 移动设备运行内存达2G及2G以上
2. 移动设备操作系统为Android

## 支持软件

1. 支持操作系统：Android
2. 测试支持软件：微信APP

## 接口

对外暴露一个https接口用于第三方应用查看图书馆空余座位数量。

## 控制

数据通信协议主要使用ZigBee和https。
